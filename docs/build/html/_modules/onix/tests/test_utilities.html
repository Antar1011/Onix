

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>onix.tests.test_utilities &mdash; Onix 0.1 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="Onix 0.1 documentation" href="../../../index.html"/>
        <link rel="up" title="Module code" href="../../index.html"/> 

  
  <script src="../../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../../index.html" class="icon icon-home"> Onix
          

          
          </a>

          
            
            
              <div class="version">
                0.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="simple">
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../../../index.html">Onix</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          





<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../../index.html">Docs</a> &raquo;</li>
      
          <li><a href="../../index.html">Module code</a> &raquo;</li>
      
    <li>onix.tests.test_utilities</li>
      <li class="wy-breadcrumbs-aside">
        
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <h1>Source code for onix.tests.test_utilities</h1><div class="highlight"><pre>
<span></span><span class="sd">&quot;&quot;&quot;Tests for utilities module&quot;&quot;&quot;</span>
<span class="kn">import</span> <span class="nn">json</span>
<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">pytest</span>

<span class="kn">from</span> <span class="nn">onix.dto</span> <span class="kn">import</span> <span class="n">PokeStats</span><span class="p">,</span> <span class="n">Moveset</span>
<span class="kn">from</span> <span class="nn">onix</span> <span class="kn">import</span> <span class="n">scrapers</span>
<span class="kn">from</span> <span class="nn">onix</span> <span class="kn">import</span> <span class="n">utilities</span>


<div class="viewcode-block" id="TestSanitize"><a class="viewcode-back" href="../../../onix.tests.html#onix.tests.test_utilities.TestSanitize">[docs]</a><span class="k">class</span> <span class="nc">TestSanitize</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>

<div class="viewcode-block" id="TestSanitize.setup_method"><a class="viewcode-back" href="../../../onix.tests.html#onix.tests.test_utilities.TestSanitize.setup_method">[docs]</a>    <span class="k">def</span> <span class="nf">setup_method</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">method</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sanitizer</span> <span class="o">=</span> <span class="n">utilities</span><span class="o">.</span><span class="n">Sanitizer</span><span class="p">()</span></div>

<div class="viewcode-block" id="TestSanitize.test_sanitize_string_1"><a class="viewcode-back" href="../../../onix.tests.html#onix.tests.test_utilities.TestSanitize.test_sanitize_string_1">[docs]</a>    <span class="k">def</span> <span class="nf">test_sanitize_string_1</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">input_object</span> <span class="o">=</span> <span class="s1">&#39;Rayquaza-Mega-X&#39;</span>
        <span class="n">expected</span> <span class="o">=</span> <span class="s1">&#39;rayquazamegax&#39;</span>
        <span class="k">assert</span> <span class="n">expected</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">sanitizer</span><span class="o">.</span><span class="n">sanitize</span><span class="p">(</span><span class="n">input_object</span><span class="p">)</span></div>

<div class="viewcode-block" id="TestSanitize.test_sanitize_string_2"><a class="viewcode-back" href="../../../onix.tests.html#onix.tests.test_utilities.TestSanitize.test_sanitize_string_2">[docs]</a>    <span class="k">def</span> <span class="nf">test_sanitize_string_2</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">input_object</span> <span class="o">=</span> <span class="s1">&#39;Rotom Wash&#39;</span>
        <span class="n">expected</span> <span class="o">=</span> <span class="s1">&#39;rotomwash&#39;</span>
        <span class="k">assert</span> <span class="n">expected</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">sanitizer</span><span class="o">.</span><span class="n">sanitize</span><span class="p">(</span><span class="n">input_object</span><span class="p">)</span></div>

<div class="viewcode-block" id="TestSanitize.test_sanitize_list"><a class="viewcode-back" href="../../../onix.tests.html#onix.tests.test_utilities.TestSanitize.test_sanitize_list">[docs]</a>    <span class="k">def</span> <span class="nf">test_sanitize_list</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">input_object</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Giga Drain&#39;</span><span class="p">,</span> <span class="s1">&#39;Power Whip&#39;</span><span class="p">,</span> <span class="s1">&#39;Earthquake&#39;</span><span class="p">,</span> <span class="s1">&#39;Sunny Day&#39;</span><span class="p">]</span>
        <span class="n">expected</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;earthquake&#39;</span><span class="p">,</span> <span class="s1">&#39;gigadrain&#39;</span><span class="p">,</span> <span class="s1">&#39;powerwhip&#39;</span><span class="p">,</span> <span class="s1">&#39;sunnyday&#39;</span><span class="p">]</span>
        <span class="k">assert</span> <span class="n">expected</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">sanitizer</span><span class="o">.</span><span class="n">sanitize</span><span class="p">(</span><span class="n">input_object</span><span class="p">)</span></div>

<div class="viewcode-block" id="TestSanitize.test_sanitize_iterable"><a class="viewcode-back" href="../../../onix.tests.html#onix.tests.test_utilities.TestSanitize.test_sanitize_iterable">[docs]</a>    <span class="k">def</span> <span class="nf">test_sanitize_iterable</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">input_object</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;Rock Polish&#39;</span><span class="p">,</span> <span class="s1">&#39;Explosion&#39;</span><span class="p">,</span> <span class="s1">&#39;Rock Blast&#39;</span><span class="p">,</span> <span class="s1">&#39;Hyper Beam&#39;</span><span class="p">}</span>
        <span class="n">expected</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;explosion&#39;</span><span class="p">,</span> <span class="s1">&#39;hyperbeam&#39;</span><span class="p">,</span> <span class="s1">&#39;rockblast&#39;</span><span class="p">,</span> <span class="s1">&#39;rockpolish&#39;</span><span class="p">]</span>
        <span class="k">assert</span> <span class="n">expected</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">sanitizer</span><span class="o">.</span><span class="n">sanitize</span><span class="p">(</span><span class="n">input_object</span><span class="p">)</span></div>

<div class="viewcode-block" id="TestSanitize.test_sanitize_dict"><a class="viewcode-back" href="../../../onix.tests.html#onix.tests.test_utilities.TestSanitize.test_sanitize_dict">[docs]</a>    <span class="k">def</span> <span class="nf">test_sanitize_dict</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">input_object</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;itEm&#39;</span><span class="p">:</span> <span class="s1">&#39;Mystic Water&#39;</span><span class="p">,</span> <span class="s1">&#39;level&#39;</span><span class="p">:</span> <span class="mi">100</span><span class="p">}</span>
        <span class="n">expected</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;itEm&#39;</span><span class="p">:</span> <span class="s1">&#39;mysticwater&#39;</span><span class="p">,</span> <span class="s1">&#39;level&#39;</span><span class="p">:</span> <span class="mi">100</span><span class="p">}</span>
        <span class="k">assert</span> <span class="n">expected</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">sanitizer</span><span class="o">.</span><span class="n">sanitize</span><span class="p">(</span><span class="n">input_object</span><span class="p">)</span></div>

<div class="viewcode-block" id="TestSanitize.test_sanitize_moveset"><a class="viewcode-back" href="../../../onix.tests.html#onix.tests.test_utilities.TestSanitize.test_sanitize_moveset">[docs]</a>    <span class="k">def</span> <span class="nf">test_sanitize_moveset</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">input_object</span> <span class="o">=</span> <span class="n">Moveset</span><span class="p">(</span><span class="s1">&#39;Blastoise-Mega&#39;</span><span class="p">,</span> <span class="s1">&#39;Mega Launcher&#39;</span><span class="p">,</span> <span class="s1">&#39;F&#39;</span><span class="p">,</span>
                               <span class="s1">&#39;Blastoisinite&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;Water Spout&#39;</span><span class="p">,</span> <span class="s1">&#39;Aura Sphere&#39;</span><span class="p">,</span>
                                                 <span class="s1">&#39;Dragon Pulse&#39;</span><span class="p">,</span> <span class="s1">&#39;Dark Pulse&#39;</span><span class="p">],</span>
                               <span class="n">PokeStats</span><span class="p">(</span><span class="mi">361</span><span class="p">,</span> <span class="mi">189</span><span class="p">,</span> <span class="mi">276</span><span class="p">,</span> <span class="mi">405</span><span class="p">,</span> <span class="mi">268</span><span class="p">,</span> <span class="mi">192</span><span class="p">),</span>
                               <span class="mi">100</span><span class="p">,</span> <span class="mi">255</span><span class="p">)</span>
        <span class="n">expected</span> <span class="o">=</span> <span class="n">Moveset</span><span class="p">(</span><span class="s1">&#39;blastoisemega&#39;</span><span class="p">,</span> <span class="s1">&#39;megalauncher&#39;</span><span class="p">,</span> <span class="s1">&#39;f&#39;</span><span class="p">,</span>
                           <span class="s1">&#39;blastoisinite&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;aurasphere&#39;</span><span class="p">,</span> <span class="s1">&#39;darkpulse&#39;</span><span class="p">,</span>
                                             <span class="s1">&#39;dragonpulse&#39;</span><span class="p">,</span> <span class="s1">&#39;waterspout&#39;</span><span class="p">],</span>
                           <span class="n">PokeStats</span><span class="p">(</span><span class="mi">361</span><span class="p">,</span> <span class="mi">189</span><span class="p">,</span> <span class="mi">276</span><span class="p">,</span> <span class="mi">405</span><span class="p">,</span> <span class="mi">268</span><span class="p">,</span> <span class="mi">192</span><span class="p">),</span>
                           <span class="mi">100</span><span class="p">,</span> <span class="mi">255</span><span class="p">)</span>
        <span class="k">assert</span> <span class="n">expected</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">sanitizer</span><span class="o">.</span><span class="n">sanitize</span><span class="p">(</span><span class="n">input_object</span><span class="p">)</span></div>

<div class="viewcode-block" id="TestSanitize.test_sanitize_int"><a class="viewcode-back" href="../../../onix.tests.html#onix.tests.test_utilities.TestSanitize.test_sanitize_int">[docs]</a>    <span class="k">def</span> <span class="nf">test_sanitize_int</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">input_object</span> <span class="o">=</span> <span class="mi">3</span>
        <span class="k">with</span> <span class="n">pytest</span><span class="o">.</span><span class="n">raises</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">sanitizer</span><span class="o">.</span><span class="n">sanitize</span><span class="p">(</span><span class="n">input_object</span><span class="p">)</span></div>

<div class="viewcode-block" id="TestSanitize.test_sanitize_None"><a class="viewcode-back" href="../../../onix.tests.html#onix.tests.test_utilities.TestSanitize.test_sanitize_None">[docs]</a>    <span class="k">def</span> <span class="nf">test_sanitize_None</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">input_object</span> <span class="o">=</span> <span class="bp">None</span>
        <span class="k">assert</span> <span class="bp">self</span><span class="o">.</span><span class="n">sanitizer</span><span class="o">.</span><span class="n">sanitize</span><span class="p">(</span><span class="n">input_object</span><span class="p">)</span> <span class="ow">is</span> <span class="bp">None</span></div>

<div class="viewcode-block" id="TestSanitize.test_sanitize_is_idempotent"><a class="viewcode-back" href="../../../onix.tests.html#onix.tests.test_utilities.TestSanitize.test_sanitize_is_idempotent">[docs]</a>    <span class="k">def</span> <span class="nf">test_sanitize_is_idempotent</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">input_object</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Giga Drain&#39;</span><span class="p">,</span> <span class="s1">&#39;Power Whip&#39;</span><span class="p">,</span> <span class="s1">&#39;Earthquake&#39;</span><span class="p">,</span> <span class="s1">&#39;Sunny Day&#39;</span><span class="p">]</span>
        <span class="n">sanitized</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">sanitizer</span><span class="o">.</span><span class="n">sanitize</span><span class="p">(</span><span class="n">input_object</span><span class="p">)</span>
        <span class="k">assert</span> <span class="n">input_object</span> <span class="o">!=</span> <span class="n">sanitized</span>
        <span class="n">sanitized_twice</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">sanitizer</span><span class="o">.</span><span class="n">sanitize</span><span class="p">(</span><span class="n">sanitized</span><span class="p">)</span>
        <span class="k">assert</span> <span class="n">sanitized</span> <span class="o">==</span> <span class="n">sanitized_twice</span></div>

<div class="viewcode-block" id="TestSanitize.test_initialize_with_args"><a class="viewcode-back" href="../../../onix.tests.html#onix.tests.test_utilities.TestSanitize.test_initialize_with_args">[docs]</a>    <span class="k">def</span> <span class="nf">test_initialize_with_args</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">pokedex</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="nb">open</span><span class="p">(</span><span class="s1">&#39;.psdata/pokedex.json&#39;</span><span class="p">))</span>
        <span class="n">aliases</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="nb">open</span><span class="p">(</span><span class="s1">&#39;.psdata/aliases.json&#39;</span><span class="p">))</span>
        <span class="n">sanitizer</span> <span class="o">=</span> <span class="n">utilities</span><span class="o">.</span><span class="n">Sanitizer</span><span class="p">(</span><span class="n">pokedex</span><span class="p">,</span> <span class="n">aliases</span><span class="p">)</span>
        <span class="n">input_object</span> <span class="o">=</span> <span class="s1">&#39;Deerling Summer&#39;</span>
        <span class="n">expected</span> <span class="o">=</span> <span class="s1">&#39;deerling&#39;</span>
        <span class="k">assert</span> <span class="n">expected</span> <span class="o">==</span> <span class="n">sanitizer</span><span class="o">.</span><span class="n">sanitize</span><span class="p">(</span><span class="n">input_object</span><span class="p">)</span></div>

    <span class="nd">@pytest.mark.online</span>
<div class="viewcode-block" id="TestSanitize.test_initialize_with_missing_files"><a class="viewcode-back" href="../../../onix.tests.html#onix.tests.test_utilities.TestSanitize.test_initialize_with_missing_files">[docs]</a>    <span class="k">def</span> <span class="nf">test_initialize_with_missing_files</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">os</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="s1">&#39;.psdata/pokedex.json&#39;</span><span class="p">)</span>
        <span class="n">os</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="s1">&#39;.psdata/aliases.json&#39;</span><span class="p">)</span>
        <span class="n">sanitizer</span> <span class="o">=</span> <span class="n">utilities</span><span class="o">.</span><span class="n">Sanitizer</span><span class="p">()</span>
        <span class="n">input_object</span> <span class="o">=</span> <span class="s1">&#39;Flabebe-blue&#39;</span>
        <span class="n">expected</span> <span class="o">=</span> <span class="s1">&#39;flabebe&#39;</span>
        <span class="k">assert</span> <span class="n">expected</span> <span class="o">==</span> <span class="n">sanitizer</span><span class="o">.</span><span class="n">sanitize</span><span class="p">(</span><span class="n">input_object</span><span class="p">)</span></div></div>


<div class="viewcode-block" id="TestComputeSid"><a class="viewcode-back" href="../../../onix.tests.html#onix.tests.test_utilities.TestComputeSid">[docs]</a><span class="k">class</span> <span class="nc">TestComputeSid</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>

<div class="viewcode-block" id="TestComputeSid.setup_method"><a class="viewcode-back" href="../../../onix.tests.html#onix.tests.test_utilities.TestComputeSid.setup_method">[docs]</a>    <span class="k">def</span> <span class="nf">setup_method</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">method</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sanitizer</span> <span class="o">=</span> <span class="n">utilities</span><span class="o">.</span><span class="n">Sanitizer</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">moveset</span> <span class="o">=</span> <span class="n">Moveset</span><span class="p">(</span><span class="s1">&#39;Blastoise-Mega&#39;</span><span class="p">,</span> <span class="s1">&#39;Mega Launcher&#39;</span><span class="p">,</span> <span class="s1">&#39;F&#39;</span><span class="p">,</span>
                               <span class="s1">&#39;Blastoisinite&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;Water Spout&#39;</span><span class="p">,</span> <span class="s1">&#39;Aura Sphere&#39;</span><span class="p">,</span>
                                                 <span class="s1">&#39;Dragon Pulse&#39;</span><span class="p">,</span> <span class="s1">&#39;Dark Pulse&#39;</span><span class="p">],</span>
                               <span class="n">PokeStats</span><span class="p">(</span><span class="mi">361</span><span class="p">,</span> <span class="mi">189</span><span class="p">,</span> <span class="mi">276</span><span class="p">,</span> <span class="mi">405</span><span class="p">,</span> <span class="mi">268</span><span class="p">,</span> <span class="mi">192</span><span class="p">),</span>
                               <span class="mi">100</span><span class="p">,</span> <span class="mi">255</span><span class="p">)</span></div>

<div class="viewcode-block" id="TestComputeSid.test_sanitizer_changes_unsanitized_input"><a class="viewcode-back" href="../../../onix.tests.html#onix.tests.test_utilities.TestComputeSid.test_sanitizer_changes_unsanitized_input">[docs]</a>    <span class="k">def</span> <span class="nf">test_sanitizer_changes_unsanitized_input</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">unsanitized_sid</span> <span class="o">=</span> <span class="n">utilities</span><span class="o">.</span><span class="n">compute_sid</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">moveset</span><span class="p">)</span>
        <span class="n">sanitized_sid</span> <span class="o">=</span> <span class="n">utilities</span><span class="o">.</span><span class="n">compute_sid</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">moveset</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">sanitizer</span><span class="p">)</span>
        <span class="k">assert</span> <span class="n">unsanitized_sid</span> <span class="o">!=</span> <span class="n">sanitized_sid</span>
        <span class="k">assert</span> <span class="n">sanitized_sid</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s1">&#39;blastoisemega-&#39;</span><span class="p">)</span></div>

<div class="viewcode-block" id="TestComputeSid.test_equivalent_sids"><a class="viewcode-back" href="../../../onix.tests.html#onix.tests.test_utilities.TestComputeSid.test_equivalent_sids">[docs]</a>    <span class="k">def</span> <span class="nf">test_equivalent_sids</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">equivalent_moveset</span> <span class="o">=</span> <span class="n">Moveset</span><span class="p">(</span><span class="s1">&#39;Blastoise-Mega&#39;</span><span class="p">,</span> <span class="s1">&#39;Mega Launcher&#39;</span><span class="p">,</span> <span class="s1">&#39;F&#39;</span><span class="p">,</span>
                                     <span class="s1">&#39;Blastoisinite&#39;</span><span class="p">,</span>
                                     <span class="p">[</span><span class="s1">&#39;darkpulse&#39;</span><span class="p">,</span> <span class="s1">&#39;dragonpulse&#39;</span><span class="p">,</span> <span class="s1">&#39;waterspout&#39;</span><span class="p">,</span>
                                      <span class="s1">&#39;aurasphere&#39;</span><span class="p">],</span>
                                     <span class="n">PokeStats</span><span class="p">(</span><span class="n">spa</span><span class="o">=</span><span class="mi">405</span><span class="p">,</span> <span class="n">hp</span><span class="o">=</span><span class="mi">361</span><span class="p">,</span> <span class="n">dfn</span><span class="o">=</span><span class="mi">276</span><span class="p">,</span>
                                                <span class="n">spd</span><span class="o">=</span><span class="mi">268</span><span class="p">,</span> <span class="n">spe</span><span class="o">=</span><span class="mi">192</span><span class="p">,</span> <span class="n">atk</span><span class="o">=</span><span class="mi">189</span><span class="p">),</span>
                                     <span class="mi">100</span><span class="p">,</span> <span class="mi">255</span><span class="p">)</span>
        <span class="n">original_sid</span> <span class="o">=</span> <span class="n">utilities</span><span class="o">.</span><span class="n">compute_sid</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">moveset</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">sanitizer</span><span class="p">)</span>
        <span class="n">equivalent_sid</span> <span class="o">=</span> <span class="n">utilities</span><span class="o">.</span><span class="n">compute_sid</span><span class="p">(</span><span class="n">equivalent_moveset</span><span class="p">,</span>
                                               <span class="bp">self</span><span class="o">.</span><span class="n">sanitizer</span><span class="p">)</span>
        <span class="k">assert</span> <span class="n">original_sid</span> <span class="o">==</span> <span class="n">equivalent_sid</span></div>

<div class="viewcode-block" id="TestComputeSid.test_non_equivalent_sids"><a class="viewcode-back" href="../../../onix.tests.html#onix.tests.test_utilities.TestComputeSid.test_non_equivalent_sids">[docs]</a>    <span class="k">def</span> <span class="nf">test_non_equivalent_sids</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">non_equivalent_moveset</span> <span class="o">=</span> <span class="n">Moveset</span><span class="p">(</span><span class="s1">&#39;Blastoise-Mega&#39;</span><span class="p">,</span> <span class="s1">&#39;Mega Launcher&#39;</span><span class="p">,</span> <span class="s1">&#39;F&#39;</span><span class="p">,</span>
                                     <span class="s1">&#39;Blastoisinite&#39;</span><span class="p">,</span>
                                     <span class="p">[</span><span class="s1">&#39;darkpulse&#39;</span><span class="p">,</span> <span class="s1">&#39;dragonpulse&#39;</span><span class="p">,</span> <span class="s1">&#39;waterspout&#39;</span><span class="p">,</span>
                                      <span class="s1">&#39;aurasphere&#39;</span><span class="p">],</span>
                                     <span class="n">PokeStats</span><span class="p">(</span><span class="n">spa</span><span class="o">=</span><span class="mi">405</span><span class="p">,</span> <span class="n">hp</span><span class="o">=</span><span class="mi">361</span><span class="p">,</span> <span class="n">dfn</span><span class="o">=</span><span class="mi">276</span><span class="p">,</span>
                                               <span class="n">spd</span><span class="o">=</span><span class="mi">268</span><span class="p">,</span> <span class="n">spe</span><span class="o">=</span><span class="mi">192</span><span class="p">,</span> <span class="n">atk</span><span class="o">=</span><span class="mi">189</span><span class="p">),</span>
                                     <span class="mi">100</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
        <span class="n">original_sid</span> <span class="o">=</span> <span class="n">utilities</span><span class="o">.</span><span class="n">compute_sid</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">moveset</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">sanitizer</span><span class="p">)</span>
        <span class="n">non_equivalent_sid</span> <span class="o">=</span> <span class="n">utilities</span><span class="o">.</span><span class="n">compute_sid</span><span class="p">(</span><span class="n">non_equivalent_moveset</span><span class="p">,</span>
                                               <span class="bp">self</span><span class="o">.</span><span class="n">sanitizer</span><span class="p">)</span>
        <span class="k">assert</span> <span class="n">original_sid</span> <span class="o">!=</span> <span class="n">non_equivalent_sid</span></div></div>


<div class="viewcode-block" id="TestComputeTid"><a class="viewcode-back" href="../../../onix.tests.html#onix.tests.test_utilities.TestComputeTid">[docs]</a><span class="k">class</span> <span class="nc">TestComputeTid</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>

<div class="viewcode-block" id="TestComputeTid.test_tid_equivalence"><a class="viewcode-back" href="../../../onix.tests.html#onix.tests.test_utilities.TestComputeTid.test_tid_equivalence">[docs]</a>    <span class="k">def</span> <span class="nf">test_tid_equivalence</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>

        <span class="n">sanitizer</span> <span class="o">=</span> <span class="n">utilities</span><span class="o">.</span><span class="n">Sanitizer</span><span class="p">()</span>

        <span class="n">moveset_1</span> <span class="o">=</span> <span class="n">Moveset</span><span class="p">(</span><span class="s1">&#39;Blastoise-Mega&#39;</span><span class="p">,</span> <span class="s1">&#39;Mega Launcher&#39;</span><span class="p">,</span> <span class="s1">&#39;F&#39;</span><span class="p">,</span>
                            <span class="s1">&#39;Blastoisinite&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;Water Spout&#39;</span><span class="p">,</span> <span class="s1">&#39;Aura Sphere&#39;</span><span class="p">,</span>
                                              <span class="s1">&#39;Dragon Pulse&#39;</span><span class="p">,</span> <span class="s1">&#39;Dark Pulse&#39;</span><span class="p">],</span>
                            <span class="n">PokeStats</span><span class="p">(</span><span class="mi">361</span><span class="p">,</span> <span class="mi">189</span><span class="p">,</span> <span class="mi">276</span><span class="p">,</span> <span class="mi">405</span><span class="p">,</span> <span class="mi">268</span><span class="p">,</span> <span class="mi">192</span><span class="p">),</span>
                            <span class="mi">100</span><span class="p">,</span> <span class="mi">255</span><span class="p">)</span>
        <span class="n">moveset_2</span> <span class="o">=</span> <span class="n">Moveset</span><span class="p">(</span><span class="s1">&#39;gardevoir&#39;</span><span class="p">,</span> <span class="s1">&#39;synchronize&#39;</span><span class="p">,</span> <span class="s1">&#39;u&#39;</span><span class="p">,</span> <span class="s1">&#39;choicescarf&#39;</span><span class="p">,</span>
                            <span class="p">[</span><span class="s1">&#39;healingwish&#39;</span><span class="p">],</span>
                            <span class="n">PokeStats</span><span class="p">(</span><span class="mi">340</span><span class="p">,</span> <span class="mi">121</span><span class="p">,</span> <span class="mi">251</span><span class="p">,</span> <span class="mi">286</span><span class="p">,</span> <span class="mi">266</span><span class="p">,</span> <span class="mi">197</span><span class="p">),</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">255</span><span class="p">)</span>

        <span class="n">moveset_1a</span> <span class="o">=</span> <span class="n">Moveset</span><span class="p">(</span><span class="s1">&#39;Blastoise-Mega&#39;</span><span class="p">,</span> <span class="s1">&#39;Mega Launcher&#39;</span><span class="p">,</span> <span class="s1">&#39;F&#39;</span><span class="p">,</span>
                             <span class="s1">&#39;Blastoisinite&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;Water Spout&#39;</span><span class="p">,</span> <span class="s1">&#39;Aura Sphere&#39;</span><span class="p">,</span>
                                               <span class="s1">&#39;Dragon Pulse&#39;</span><span class="p">,</span> <span class="s1">&#39;Dark Pulse&#39;</span><span class="p">],</span>
                             <span class="n">PokeStats</span><span class="p">(</span><span class="mi">360</span><span class="p">,</span> <span class="mi">189</span><span class="p">,</span> <span class="mi">276</span><span class="p">,</span> <span class="mi">405</span><span class="p">,</span> <span class="mi">268</span><span class="p">,</span> <span class="mi">193</span><span class="p">),</span>
                             <span class="mi">100</span><span class="p">,</span> <span class="mi">255</span><span class="p">)</span>

        <span class="n">original_tid</span> <span class="o">=</span> <span class="n">utilities</span><span class="o">.</span><span class="n">compute_tid</span><span class="p">([</span><span class="n">moveset_1</span><span class="p">,</span> <span class="n">moveset_2</span><span class="p">],</span> <span class="n">sanitizer</span><span class="p">)</span>
        <span class="n">equivalent_tid</span> <span class="o">=</span> <span class="n">utilities</span><span class="o">.</span><span class="n">compute_tid</span><span class="p">([</span><span class="n">moveset_2</span><span class="p">,</span> <span class="n">moveset_1</span><span class="p">],</span>
                                               <span class="n">sanitizer</span><span class="p">)</span>
        <span class="n">non_equivalent_tid</span> <span class="o">=</span> <span class="n">utilities</span><span class="o">.</span><span class="n">compute_tid</span><span class="p">([</span><span class="n">moveset_1a</span><span class="p">,</span> <span class="n">moveset_2</span><span class="p">],</span>
                                                   <span class="n">sanitizer</span><span class="p">)</span>

        <span class="k">assert</span> <span class="n">original_tid</span> <span class="o">==</span> <span class="n">equivalent_tid</span>
        <span class="k">assert</span> <span class="n">original_tid</span> <span class="o">!=</span> <span class="n">non_equivalent_tid</span></div></div>


<div class="viewcode-block" id="TestDictToStats"><a class="viewcode-back" href="../../../onix.tests.html#onix.tests.test_utilities.TestDictToStats">[docs]</a><span class="k">class</span> <span class="nc">TestDictToStats</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>

<div class="viewcode-block" id="TestDictToStats.setup_method"><a class="viewcode-back" href="../../../onix.tests.html#onix.tests.test_utilities.TestDictToStats.setup_method">[docs]</a>    <span class="k">def</span> <span class="nf">setup_method</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">method</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">stats_dict</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;hp&#39;</span><span class="p">:</span> <span class="mi">373</span><span class="p">,</span> <span class="s1">&#39;atk&#39;</span><span class="p">:</span> <span class="mi">216</span><span class="p">,</span> <span class="s1">&#39;def&#39;</span><span class="p">:</span> <span class="mi">208</span><span class="p">,</span> <span class="s1">&#39;spa&#39;</span><span class="p">:</span> <span class="mi">158</span><span class="p">,</span>
                           <span class="s1">&#39;spd&#39;</span><span class="p">:</span> <span class="mi">196</span><span class="p">,</span> <span class="s1">&#39;spe&#39;</span><span class="p">:</span> <span class="mi">383</span><span class="p">}</span></div>

<div class="viewcode-block" id="TestDictToStats.test_good_dict"><a class="viewcode-back" href="../../../onix.tests.html#onix.tests.test_utilities.TestDictToStats.test_good_dict">[docs]</a>    <span class="k">def</span> <span class="nf">test_good_dict</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">expected</span> <span class="o">=</span> <span class="n">PokeStats</span><span class="p">(</span><span class="mi">373</span><span class="p">,</span> <span class="mi">216</span><span class="p">,</span> <span class="mi">208</span><span class="p">,</span> <span class="mi">158</span><span class="p">,</span> <span class="mi">196</span><span class="p">,</span> <span class="mi">383</span><span class="p">)</span>
        <span class="k">assert</span> <span class="n">expected</span> <span class="o">==</span> <span class="n">utilities</span><span class="o">.</span><span class="n">stats_dict_to_dto</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">stats_dict</span><span class="p">)</span></div>

<div class="viewcode-block" id="TestDictToStats.test_missing_key"><a class="viewcode-back" href="../../../onix.tests.html#onix.tests.test_utilities.TestDictToStats.test_missing_key">[docs]</a>    <span class="k">def</span> <span class="nf">test_missing_key</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">del</span> <span class="bp">self</span><span class="o">.</span><span class="n">stats_dict</span><span class="p">[</span><span class="s1">&#39;atk&#39;</span><span class="p">]</span>
        <span class="k">with</span> <span class="n">pytest</span><span class="o">.</span><span class="n">raises</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">):</span>
            <span class="n">utilities</span><span class="o">.</span><span class="n">stats_dict_to_dto</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">stats_dict</span><span class="p">)</span></div>

<div class="viewcode-block" id="TestDictToStats.test_extra_key"><a class="viewcode-back" href="../../../onix.tests.html#onix.tests.test_utilities.TestDictToStats.test_extra_key">[docs]</a>    <span class="k">def</span> <span class="nf">test_extra_key</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">stats_dict</span><span class="p">[</span><span class="s1">&#39;happiness&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">255</span>
        <span class="k">with</span> <span class="n">pytest</span><span class="o">.</span><span class="n">raises</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">):</span>
            <span class="n">utilities</span><span class="o">.</span><span class="n">stats_dict_to_dto</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">stats_dict</span><span class="p">)</span></div>

<div class="viewcode-block" id="TestDictToStats.test_wrong_key_name"><a class="viewcode-back" href="../../../onix.tests.html#onix.tests.test_utilities.TestDictToStats.test_wrong_key_name">[docs]</a>    <span class="k">def</span> <span class="nf">test_wrong_key_name</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">stats_dict</span><span class="p">[</span><span class="s1">&#39;hitpoints&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">stats_dict</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s1">&#39;hp&#39;</span><span class="p">)</span>
        <span class="k">with</span> <span class="n">pytest</span><span class="o">.</span><span class="n">raises</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">):</span>
            <span class="n">utilities</span><span class="o">.</span><span class="n">stats_dict_to_dto</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">stats_dict</span><span class="p">)</span></div></div>


<div class="viewcode-block" id="TestCalculateStats"><a class="viewcode-back" href="../../../onix.tests.html#onix.tests.test_utilities.TestCalculateStats">[docs]</a><span class="k">class</span> <span class="nc">TestCalculateStats</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>

    <span class="nd">@classmethod</span>
<div class="viewcode-block" id="TestCalculateStats.setup_class"><a class="viewcode-back" href="../../../onix.tests.html#onix.tests.test_utilities.TestCalculateStats.setup_class">[docs]</a>    <span class="k">def</span> <span class="nf">setup_class</span><span class="p">(</span><span class="n">cls</span><span class="p">):</span>
        <span class="n">cls</span><span class="o">.</span><span class="n">natures</span> <span class="o">=</span> <span class="n">utilities</span><span class="o">.</span><span class="n">load_natures</span><span class="p">()</span></div>

<div class="viewcode-block" id="TestCalculateStats.test_typical_set"><a class="viewcode-back" href="../../../onix.tests.html#onix.tests.test_utilities.TestCalculateStats.test_typical_set">[docs]</a>    <span class="k">def</span> <span class="nf">test_typical_set</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">stats</span> <span class="o">=</span> <span class="n">utilities</span><span class="o">.</span><span class="n">calculate_stats</span><span class="p">(</span><span class="n">PokeStats</span><span class="p">(</span><span class="mi">125</span><span class="p">,</span> <span class="mi">120</span><span class="p">,</span> <span class="mi">90</span><span class="p">,</span> <span class="mi">170</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">95</span><span class="p">),</span>
                                          <span class="bp">self</span><span class="o">.</span><span class="n">natures</span><span class="p">[</span><span class="s1">&#39;timid&#39;</span><span class="p">],</span>
                                          <span class="n">PokeStats</span><span class="p">(</span><span class="mi">31</span><span class="p">,</span> <span class="mi">31</span><span class="p">,</span> <span class="mi">31</span><span class="p">,</span> <span class="mi">31</span><span class="p">,</span> <span class="mi">31</span><span class="p">,</span> <span class="mi">31</span><span class="p">),</span>
                                          <span class="n">PokeStats</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">254</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">252</span><span class="p">),</span> <span class="mi">100</span><span class="p">)</span>
        <span class="n">expected</span> <span class="o">=</span> <span class="n">PokeStats</span><span class="p">(</span><span class="mi">391</span><span class="p">,</span> <span class="mi">248</span><span class="p">,</span> <span class="mi">217</span><span class="p">,</span> <span class="mi">439</span><span class="p">,</span> <span class="mi">236</span><span class="p">,</span> <span class="mi">317</span><span class="p">)</span>
        <span class="k">assert</span> <span class="n">expected</span> <span class="o">==</span> <span class="n">stats</span></div>

<div class="viewcode-block" id="TestCalculateStats.test_lc_set"><a class="viewcode-back" href="../../../onix.tests.html#onix.tests.test_utilities.TestCalculateStats.test_lc_set">[docs]</a>    <span class="k">def</span> <span class="nf">test_lc_set</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">stats</span> <span class="o">=</span> <span class="n">utilities</span><span class="o">.</span><span class="n">calculate_stats</span><span class="p">(</span><span class="n">PokeStats</span><span class="p">(</span><span class="mi">62</span><span class="p">,</span> <span class="mi">48</span><span class="p">,</span> <span class="mi">66</span><span class="p">,</span> <span class="mi">59</span><span class="p">,</span> <span class="mi">57</span><span class="p">,</span> <span class="mi">49</span><span class="p">),</span>
                                          <span class="bp">self</span><span class="o">.</span><span class="n">natures</span><span class="p">[</span><span class="s1">&#39;calm&#39;</span><span class="p">],</span>
                                          <span class="n">PokeStats</span><span class="p">(</span><span class="mi">31</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">31</span><span class="p">,</span> <span class="mi">31</span><span class="p">,</span> <span class="mi">31</span><span class="p">,</span> <span class="mi">31</span><span class="p">),</span>
                                          <span class="n">PokeStats</span><span class="p">(</span><span class="mi">180</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">124</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">124</span><span class="p">),</span> <span class="mi">5</span><span class="p">)</span>
        <span class="n">expected</span> <span class="o">=</span> <span class="n">PokeStats</span><span class="p">(</span><span class="mi">25</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">13</span><span class="p">,</span> <span class="mi">14</span><span class="p">,</span> <span class="mi">14</span><span class="p">,</span> <span class="mi">13</span><span class="p">)</span>
        <span class="k">assert</span> <span class="n">expected</span> <span class="o">==</span> <span class="n">stats</span></div>

<div class="viewcode-block" id="TestCalculateStats.test_shedinja"><a class="viewcode-back" href="../../../onix.tests.html#onix.tests.test_utilities.TestCalculateStats.test_shedinja">[docs]</a>    <span class="k">def</span> <span class="nf">test_shedinja</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">stats</span> <span class="o">=</span> <span class="n">utilities</span><span class="o">.</span><span class="n">calculate_stats</span><span class="p">(</span><span class="n">PokeStats</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">90</span><span class="p">,</span> <span class="mi">45</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">40</span><span class="p">),</span>
                                          <span class="bp">self</span><span class="o">.</span><span class="n">natures</span><span class="p">[</span><span class="s1">&#39;relaxed&#39;</span><span class="p">],</span>
                                          <span class="n">PokeStats</span><span class="p">(</span><span class="mi">31</span><span class="p">,</span> <span class="mi">31</span><span class="p">,</span> <span class="mi">31</span><span class="p">,</span> <span class="mi">31</span><span class="p">,</span> <span class="mi">31</span><span class="p">,</span> <span class="mi">31</span><span class="p">),</span>
                                          <span class="n">PokeStats</span><span class="p">(</span><span class="mi">252</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">252</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="mi">100</span><span class="p">)</span>
        <span class="n">expected</span> <span class="o">=</span> <span class="n">PokeStats</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">216</span><span class="p">,</span> <span class="mi">139</span><span class="p">,</span> <span class="mi">96</span><span class="p">,</span> <span class="mi">159</span><span class="p">,</span> <span class="mi">104</span><span class="p">)</span>
        <span class="k">assert</span> <span class="n">expected</span> <span class="o">==</span> <span class="n">stats</span></div>

<div class="viewcode-block" id="TestCalculateStats.test_neutral_nature"><a class="viewcode-back" href="../../../onix.tests.html#onix.tests.test_utilities.TestCalculateStats.test_neutral_nature">[docs]</a>    <span class="k">def</span> <span class="nf">test_neutral_nature</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">stats</span> <span class="o">=</span> <span class="n">utilities</span><span class="o">.</span><span class="n">calculate_stats</span><span class="p">(</span><span class="n">PokeStats</span><span class="p">(</span><span class="mi">89</span><span class="p">,</span> <span class="mi">145</span><span class="p">,</span> <span class="mi">90</span><span class="p">,</span> <span class="mi">105</span><span class="p">,</span> <span class="mi">80</span><span class="p">,</span> <span class="mi">91</span><span class="p">),</span>
                                          <span class="bp">self</span><span class="o">.</span><span class="n">natures</span><span class="p">[</span><span class="s1">&#39;docile&#39;</span><span class="p">],</span>
                                          <span class="n">PokeStats</span><span class="p">(</span><span class="mi">31</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">31</span><span class="p">,</span> <span class="mi">31</span><span class="p">,</span> <span class="mi">31</span><span class="p">),</span>
                                          <span class="n">PokeStats</span><span class="p">(</span><span class="mi">44</span><span class="p">,</span> <span class="mi">252</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">212</span><span class="p">),</span> <span class="mi">50</span><span class="p">)</span>
        <span class="n">expected</span> <span class="o">=</span> <span class="n">PokeStats</span><span class="p">(</span><span class="mi">170</span><span class="p">,</span> <span class="mi">196</span><span class="p">,</span> <span class="mi">110</span><span class="p">,</span> <span class="mi">125</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">138</span><span class="p">)</span>
        <span class="k">assert</span> <span class="n">expected</span> <span class="o">==</span> <span class="n">stats</span></div>

<div class="viewcode-block" id="TestCalculateStats.test_invalid_nature"><a class="viewcode-back" href="../../../onix.tests.html#onix.tests.test_utilities.TestCalculateStats.test_invalid_nature">[docs]</a>    <span class="k">def</span> <span class="nf">test_invalid_nature</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">with</span> <span class="n">pytest</span><span class="o">.</span><span class="n">raises</span><span class="p">(</span><span class="ne">KeyError</span><span class="p">):</span>
            <span class="n">utilities</span><span class="o">.</span><span class="n">calculate_stats</span><span class="p">(</span><span class="n">PokeStats</span><span class="p">(</span><span class="mi">125</span><span class="p">,</span> <span class="mi">120</span><span class="p">,</span> <span class="mi">90</span><span class="p">,</span> <span class="mi">170</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">95</span><span class="p">),</span>
                                      <span class="p">{</span><span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;Timid&#39;</span><span class="p">,</span> <span class="s1">&#39;plus&#39;</span><span class="p">:</span> <span class="s1">&#39;spe&#39;</span><span class="p">},</span>
                                      <span class="n">PokeStats</span><span class="p">(</span><span class="mi">31</span><span class="p">,</span> <span class="mi">31</span><span class="p">,</span> <span class="mi">31</span><span class="p">,</span> <span class="mi">31</span><span class="p">,</span> <span class="mi">31</span><span class="p">,</span> <span class="mi">31</span><span class="p">),</span>
                                      <span class="n">PokeStats</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">254</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">252</span><span class="p">),</span> <span class="mi">100</span><span class="p">)</span></div>

<div class="viewcode-block" id="TestCalculateStats.test_improperly_converted_nature"><a class="viewcode-back" href="../../../onix.tests.html#onix.tests.test_utilities.TestCalculateStats.test_improperly_converted_nature">[docs]</a>    <span class="k">def</span> <span class="nf">test_improperly_converted_nature</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">with</span> <span class="n">pytest</span><span class="o">.</span><span class="n">raises</span><span class="p">(</span><span class="ne">KeyError</span><span class="p">):</span>
            <span class="n">utilities</span><span class="o">.</span><span class="n">calculate_stats</span><span class="p">(</span><span class="n">PokeStats</span><span class="p">(</span><span class="mi">125</span><span class="p">,</span> <span class="mi">120</span><span class="p">,</span> <span class="mi">90</span><span class="p">,</span> <span class="mi">170</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">95</span><span class="p">),</span>
                                      <span class="p">{</span><span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;Hasty&#39;</span><span class="p">,</span> <span class="s1">&#39;plus&#39;</span><span class="p">:</span> <span class="s1">&#39;spe&#39;</span><span class="p">,</span>
                                       <span class="s1">&#39;minus&#39;</span><span class="p">:</span> <span class="s1">&#39;def&#39;</span><span class="p">},</span>
                                      <span class="n">PokeStats</span><span class="p">(</span><span class="mi">31</span><span class="p">,</span> <span class="mi">31</span><span class="p">,</span> <span class="mi">31</span><span class="p">,</span> <span class="mi">31</span><span class="p">,</span> <span class="mi">31</span><span class="p">,</span> <span class="mi">31</span><span class="p">),</span>
                                      <span class="n">PokeStats</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">254</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">252</span><span class="p">),</span> <span class="mi">100</span><span class="p">)</span></div></div>


<div class="viewcode-block" id="test_load_natures"><a class="viewcode-back" href="../../../onix.tests.html#onix.tests.test_utilities.test_load_natures">[docs]</a><span class="k">def</span> <span class="nf">test_load_natures</span><span class="p">():</span>
    <span class="n">natures</span> <span class="o">=</span> <span class="n">utilities</span><span class="o">.</span><span class="n">load_natures</span><span class="p">()</span>
    <span class="n">expected</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;Lonely&#39;</span><span class="p">,</span> <span class="s1">&#39;plus&#39;</span><span class="p">:</span> <span class="s1">&#39;atk&#39;</span><span class="p">,</span> <span class="s1">&#39;minus&#39;</span><span class="p">:</span> <span class="s1">&#39;dfn&#39;</span><span class="p">}</span>
    <span class="k">assert</span> <span class="n">expected</span> <span class="o">==</span> <span class="n">natures</span><span class="p">[</span><span class="s1">&#39;lonely&#39;</span><span class="p">]</span></div>


<div class="viewcode-block" id="TestRulesetParsing"><a class="viewcode-back" href="../../../onix.tests.html#onix.tests.test_utilities.TestRulesetParsing">[docs]</a><span class="k">class</span> <span class="nc">TestRulesetParsing</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>

    <span class="nd">@classmethod</span>
<div class="viewcode-block" id="TestRulesetParsing.setup_class"><a class="viewcode-back" href="../../../onix.tests.html#onix.tests.test_utilities.TestRulesetParsing.setup_class">[docs]</a>    <span class="k">def</span> <span class="nf">setup_class</span><span class="p">(</span><span class="n">cls</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">cls</span><span class="o">.</span><span class="n">formats</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="nb">open</span><span class="p">(</span><span class="s1">&#39;.psdata/formats.json&#39;</span><span class="p">))</span>
        <span class="k">except</span> <span class="ne">IOError</span><span class="p">:</span>
            <span class="n">cls</span><span class="o">.</span><span class="n">formats</span> <span class="o">=</span> <span class="n">scrapers</span><span class="o">.</span><span class="n">scrape_battle_formats</span><span class="p">()</span></div>

<div class="viewcode-block" id="TestRulesetParsing.test_ubers"><a class="viewcode-back" href="../../../onix.tests.html#onix.tests.test_utilities.TestRulesetParsing.test_ubers">[docs]</a>    <span class="k">def</span> <span class="nf">test_ubers</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">metagame</span> <span class="o">=</span> <span class="s1">&#39;Ubers&#39;</span>
        <span class="n">expected</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;singles&#39;</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="bp">False</span><span class="p">)</span>

        <span class="k">assert</span> <span class="n">expected</span> <span class="o">==</span> <span class="n">utilities</span><span class="o">.</span><span class="n">parse_ruleset</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">formats</span><span class="p">[</span><span class="n">metagame</span><span class="p">])</span></div>

<div class="viewcode-block" id="TestRulesetParsing.test_hackmons"><a class="viewcode-back" href="../../../onix.tests.html#onix.tests.test_utilities.TestRulesetParsing.test_hackmons">[docs]</a>    <span class="k">def</span> <span class="nf">test_hackmons</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">metagame</span> <span class="o">=</span> <span class="s1">&#39;Balanced Hackmons&#39;</span>
        <span class="n">expected</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;singles&#39;</span><span class="p">,</span> <span class="bp">True</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="bp">True</span><span class="p">)</span>

        <span class="k">assert</span> <span class="n">expected</span> <span class="o">==</span> <span class="n">utilities</span><span class="o">.</span><span class="n">parse_ruleset</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">formats</span><span class="p">[</span><span class="n">metagame</span><span class="p">])</span></div>

<div class="viewcode-block" id="TestRulesetParsing.test_triples"><a class="viewcode-back" href="../../../onix.tests.html#onix.tests.test_utilities.TestRulesetParsing.test_triples">[docs]</a>    <span class="k">def</span> <span class="nf">test_triples</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">metagame</span> <span class="o">=</span> <span class="s1">&#39;Smogon Triples&#39;</span>
        <span class="n">expected</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;triples&#39;</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="bp">True</span><span class="p">)</span>

        <span class="k">assert</span> <span class="n">expected</span> <span class="o">==</span> <span class="n">utilities</span><span class="o">.</span><span class="n">parse_ruleset</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">formats</span><span class="p">[</span><span class="n">metagame</span><span class="p">])</span></div>

<div class="viewcode-block" id="TestRulesetParsing.test_almost_any_ability"><a class="viewcode-back" href="../../../onix.tests.html#onix.tests.test_utilities.TestRulesetParsing.test_almost_any_ability">[docs]</a>    <span class="k">def</span> <span class="nf">test_almost_any_ability</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">metagame</span> <span class="o">=</span> <span class="s1">&#39;Almost Any Ability&#39;</span>
        <span class="n">expected</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;singles&#39;</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="bp">True</span><span class="p">,</span> <span class="bp">True</span><span class="p">)</span>

        <span class="k">assert</span> <span class="n">expected</span> <span class="o">==</span> <span class="n">utilities</span><span class="o">.</span><span class="n">parse_ruleset</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">formats</span><span class="p">[</span><span class="n">metagame</span><span class="p">])</span></div>

<div class="viewcode-block" id="TestRulesetParsing.test_anything_goes"><a class="viewcode-back" href="../../../onix.tests.html#onix.tests.test_utilities.TestRulesetParsing.test_anything_goes">[docs]</a>    <span class="k">def</span> <span class="nf">test_anything_goes</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">metagame</span> <span class="o">=</span> <span class="s1">&#39;Anything Goes&#39;</span>
        <span class="n">expected</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;singles&#39;</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="bp">True</span><span class="p">)</span>

        <span class="k">assert</span> <span class="n">expected</span> <span class="o">==</span> <span class="n">utilities</span><span class="o">.</span><span class="n">parse_ruleset</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">formats</span><span class="p">[</span><span class="n">metagame</span><span class="p">])</span></div>

<div class="viewcode-block" id="TestRulesetParsing.test_doubles_hackmons_cup"><a class="viewcode-back" href="../../../onix.tests.html#onix.tests.test_utilities.TestRulesetParsing.test_doubles_hackmons_cup">[docs]</a>    <span class="k">def</span> <span class="nf">test_doubles_hackmons_cup</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">metagame</span> <span class="o">=</span> <span class="s1">&#39;Doubles Hackmons Cup&#39;</span>
        <span class="n">expected</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;doubles&#39;</span><span class="p">,</span> <span class="bp">True</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="bp">True</span><span class="p">)</span>

        <span class="k">assert</span> <span class="n">expected</span> <span class="o">==</span> <span class="n">utilities</span><span class="o">.</span><span class="n">parse_ruleset</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">formats</span><span class="p">[</span><span class="n">metagame</span><span class="p">])</span></div></div>


<div class="viewcode-block" id="TestDetermineHiddenPowerType"><a class="viewcode-back" href="../../../onix.tests.html#onix.tests.test_utilities.TestDetermineHiddenPowerType">[docs]</a><span class="k">class</span> <span class="nc">TestDetermineHiddenPowerType</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>

<div class="viewcode-block" id="TestDetermineHiddenPowerType.test_hex_flawless"><a class="viewcode-back" href="../../../onix.tests.html#onix.tests.test_utilities.TestDetermineHiddenPowerType.test_hex_flawless">[docs]</a>    <span class="k">def</span> <span class="nf">test_hex_flawless</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">ivs</span> <span class="o">=</span> <span class="n">PokeStats</span><span class="p">(</span><span class="mi">31</span><span class="p">,</span> <span class="mi">31</span><span class="p">,</span> <span class="mi">31</span><span class="p">,</span> <span class="mi">31</span><span class="p">,</span> <span class="mi">31</span><span class="p">,</span> <span class="mi">31</span><span class="p">)</span>
        <span class="k">assert</span> <span class="s1">&#39;dark&#39;</span> <span class="o">==</span> <span class="n">utilities</span><span class="o">.</span><span class="n">determine_hidden_power_type</span><span class="p">(</span><span class="n">ivs</span><span class="p">)</span></div>

<div class="viewcode-block" id="TestDetermineHiddenPowerType.test_weird_ivs"><a class="viewcode-back" href="../../../onix.tests.html#onix.tests.test_utilities.TestDetermineHiddenPowerType.test_weird_ivs">[docs]</a>    <span class="k">def</span> <span class="nf">test_weird_ivs</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">ivs</span> <span class="o">=</span> <span class="n">PokeStats</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">21</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">23</span><span class="p">,</span> <span class="mi">11</span><span class="p">)</span>
        <span class="k">assert</span> <span class="s1">&#39;grass&#39;</span> <span class="o">==</span> <span class="n">utilities</span><span class="o">.</span><span class="n">determine_hidden_power_type</span><span class="p">(</span><span class="n">ivs</span><span class="p">)</span></div></div>

</pre></div>

           </div>
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016, Antar.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../../',
            VERSION:'0.1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>